<!DOCTYPE html>
<html>
<head>
  <title>Të§µ ë‹¨ë… ë¡œë”© ì‹¤í—˜ì‹¤</title>
  
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.tailwindcss.com https://apis.openapi.sk.com https://*.tmap.co.kr;
    connect-src 'self' https://script.google.com https://script.googleusercontent.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com;
    font-src https://fonts.gstatic.com;
    img-src 'self' data: https://*.daumcdn.net https://*.tmap.sk.com https://*.tmap.co.kr;
    frame-src 'self' blob:; 
  ">
  
  <script src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=QePeg5ee414bGfjbIx13L55PmUEim1vl9tvBSyp0"></script>
  
  <style>
    /* 3. ë§µì´ ëœ° ê³µê°„ì„ 100%ë¡œ ì±„ì›€ */
    html, body { height: 100%; margin: 0; padding: 0; font-family: sans-serif; }
    #map_div { width: 100%; height: 100%; }
  </style>
</head>
<body>

  <div id="map_div"></div>

  <script>
    window.onload = function() {
      try {
        // Të§µ ìŠ¤í¬ë¦½íŠ¸ê°€ <head>ì—ì„œ ì„±ê³µì ìœ¼ë¡œ ë¡œë“œë˜ì—ˆë‹¤ë©´
        // 'Tmapv2'ëŠ” ì—¬ê¸°ì„œ ì •ì˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
        new Tmapv2.Map("map_div", {
          center: new Tmapv2.LatLng(35.2128, 128.9806),
          width: "100%",
          height: "100%",
          zoom: 12
        });
        
        // ì„±ê³µ ì‹œ bodyì— ë©”ì‹œì§€ ì¶”ê°€
        const successMsg = document.createElement('h1');
        successMsg.textContent = "ğŸ‰ Të§µ ë¡œë”© ì„±ê³µ! ğŸ‰";
        successMsg.style = "position:absolute; top:10px; left:10px; background:white; padding:10px; border-radius:5px; z-index:1000;";
        document.body.appendChild(successMsg);
        
      } catch (e) {
        // ì‹¤íŒ¨ ì‹œ bodyë¥¼ ë®ì–´ì“°ê³  ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
        console.error("ì§€ë„ ìƒì„± ì‹¤íŒ¨:", e);
        document.body.innerHTML = `<h1 style="color:red; padding:20px;">
                                    ì§€ë„ ìƒì„± ì‹¤íŒ¨: ${e.message}
                                    <br><br>
                                    (ì½˜ì†” ì°½ì—ì„œ 'Tmapv2 is not defined' ì˜¤ë¥˜ê°€ ë–´ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”)
                                  </h1>`;
      }
    };
  </script>
</body>
</html>
